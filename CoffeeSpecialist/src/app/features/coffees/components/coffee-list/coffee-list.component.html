<div class="coffee-list-container">
  <h2>Lista de Cafés</h2>

  <!-- Indicador de carga -->
  <p *ngIf="isLoading">Cargando cafés...</p>

  <!-- Mensaje de error, si lo hubiera -->
  <p *ngIf="errorMessage && !isLoading" class="error">
    {{ errorMessage }}
  </p>

  <!-- Si no hay error y no se está cargando, mostramos la lista -->
  <ul *ngIf="!isLoading && !errorMessage">
    <li *ngFor="let coffee of coffees" class="coffee-item">
      <!-- Imagen con evento click -->
      <img
        [src]="coffee.image"
        alt="{{ coffee.title }}"
        width="100"
        height="auto"
        (click)="showDetails(coffee.id)"
        class="clickable-image"
      />

      <h3>{{ coffee.title }}</h3>

      <!-- Botón "+ Info" -->
      <button (click)="showDetails(coffee.id)">
        {{ showCoffeeId === coffee.id ? "Ocultar Info" : "+ Info" }}
      </button>

      <!-- Se muestran los detalles solo si showCoffeeId es igual al coffee.id -->
      <div *ngIf="showCoffeeId === coffee.id" class="coffee-details">
        <p><strong>Descripción:</strong> {{ coffee.description }}</p>
        <p>
          <strong>Ingredientes:</strong> {{ coffee.ingredients.join(", ") }}
        </p>
      </div>
    </li>
  </ul>

  <h2>Añadir Café Personalizado</h2>
  <app-add-coffee (coffeeAdded)="onCoffeeAdded($event)"></app-add-coffee>

  <h2>Cafés Personalizados Creados</h2>
  <p *ngIf="customCoffees.length === 0">No has creado ningún café aún.</p>

  <ul *ngIf="customCoffees.length > 0">
    <li *ngFor="let coffee of customCoffees" class="coffee-item">
      <h3>{{ coffee.name }}</h3>
      <p>{{ coffee.description }}</p>
      <img [src]="coffee.imageUrl" alt="{{ coffee.name }}" width="100" />
    </li>
  </ul>
</div>
